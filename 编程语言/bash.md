
# Linux

- [目录](#)
	- [点(.)的各种意思和用法](#点的各种意思和用法)
	- [查看端口占用情况](#查看端口占用情况)
	- [查看线程数](#查看线程数)
	- [查看内存使用情况](#查看内存使用情况)
	- [进程间数据传输机制](#进程间数据传输机制)
	- [一些变量及符号](#一些变量及符号)
	- [Vim](#Vim)

## 点的各种意思和用法
+ **单个点的含义：**
	+ 位置：表示“当前目录”
	+ 作为命令：等同于source

+ **两个点的含义：**
	+ 用于构建序列：
		+ echo {1..10}，打印序列1到10；
		+ echo {1..10..2}，打印序列1到10中的奇数；
		+ mkdir file_{1..10}，创建10个以数字结尾的文件；
		+ echo {a..z}{a..z}，打印从aa到zz的所有字母组合。

----

## 查看端口占用情况
+ lsof –i: 端口号
+ netstat –tunlp | grep 端口号
----

## 查看线程数
+ top –H （不加H就是查看进程）
+ top –Xh
----

## 查看内存使用情况
+ free：快速查看内存使用情况
+ ps：显示各个进程的内存使用情况以及更详细的物理内存使用情况
+ top：显示每个进程的实时使用率
----

## 进程间数据传输机制
+ **间接通信**
	+ 管道：
		+ 子进程从父进程继承文件描述符。一个程序的输出定向为另一个程序的输入（称作管道，管道是父进程为子进程建立的数据传输通道）。管道里的数据是字节流，且是非结构化数据。管道里有一定的buffer。
	+ 消息队列：
		+ 不涉及父子进程。消息队列可以实现多个不相干的进程之间的数据传输。消息队列里的数据可以是结构化数据；消息队列中也有一定的buffer大小。

+ **直接通信**
	+ 共享内存：
		+ 每个地址空间（进程）明确地设置了共享内存段，需要考虑同步互斥的问题。
----

## 一些变量及符号
+ ${}：告诉shell展开花括号里的内容
+ %：告诉shell需要在展开字符串之后从字符串的末尾去掉某些内容

```bash
	a=”Too longgg”   
	echo ${a%gg}  # too long
```
+ \#：告诉shell需要在展开字符串之后从字符串的开头去掉某些内容

```bash
	a=”Hello World!”
	echo Goodbye${a#Hello}   #Goodbye World!
```

## Vim
[Linux学习笔记](https://blog.csdn.net/NOT_GUY/article/details/86726743)

+ **Windows中默认的文件格式是GBK(gb2312)**，而Linux一般是UTF-8

+ 普通模式下，vim编辑器提供了一些命令来编辑缓冲区中的数据
	+ 删除
		+ 当前光标所在位置的n个字符：(n)x
		+ 删除当前光标所在位置的n行：(n)dd
		+ 删除当前光标所在位置的n个单词：(n)dw
		+ 删除当前光标所在位置至行尾的内容：d$ 
		+ 删除当前光标所在行行尾的换行符（拼接行）：J
	+ 撤销
		+ 撤销前一编辑命令：u 
		+ 在当前光标后追加数据：a
		+ 在当前光标所在行行尾追加数据：A
	+ 复制
		+ 复制当前光标所在位置的n行：(n)yy
		+ 复制当前光标所在位置的n个单词：(n)yw
		+ 复制当前光标所在位置至行尾的内容：y$
		+ 复制第26行至50行：命令模式下，:26,50y
	+ 粘贴
		+ 粘贴：p
	+ 查找
		+ 查找：/查找的文本
		+ 向下查找：n
		+ 向上查找：N
	+ 替换
		+ 替换当前行的old为new：:s/old/new
		+ 替换当前行所有old为new：:s/old/new/g
		+ 替换第n行开始到最后一行中每一行的第一个old为new：:n,$s/old/new/
		+ 替换第n行开始到最后一行中每一行所有的old为new：:n,$s/old/new/g
		+ 替换整个文件中的所有old：:%s/old/new/g
		+ 替换整个文件中的所有old，但在每次出现时提示：:%s/old/new/gc
		+ 用char替换当前光标所在位置的单个字符：r  char
		+ 用text覆盖当前光标所在位置的数据，直到按下ESC键：R  text

+ 可视模式: 按v进入可视模式
	+ 复制
		+ 移动光标选中需要复制的行，使用y复制选中块到缓冲区
	+ 剪切
		+ 移动光标选中需要复制的行，使用d剪切选中块到缓冲区
	+ 粘贴
		+ 将光标移动到粘贴的位置，并使用p进行粘贴

+ 在vim中查看文件编码：:set fileencoding		

+ 高级技巧
	+ 比较多个文件：vim -d file1 file2
	+ 打开多个文件：vim file1 file2 file3
		+ 启动vim后只有一个窗口显示的是file1，可以在末行模式中输入ls查看到打开的三个文件，也可以在末行模式中输入b<num>来显示另一个文件，例如可以用:b 2将file2显示出来，可以用:b3将file3显示出来。
	+ 拆分和切换窗口
		+ 可以在末行模式中输入sp或vs来实现对窗口的水平或垂直拆分，这样我们就可以同时打开多个编辑窗口，通过按两次Ctrl+w就可以实现编辑窗口的切换，在一个窗口中执行退出操作只会关闭对应的窗口，其他的窗口继续保留。
		
